{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block title %} Update Assignment {% endblock %}
{% block content %}
<title> WMGTSS | Update Assignment </title>

<!--breadcrumb bar-->
<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a href="/">Dashboard</a></li> / 
      <li><a href="{% url 'curriculum:module_list' slug=assignments.course.slug %}"> {{assignments.course.name}}</a></li> /
      <li><a href="{% url 'curriculum:question_list' course=assignments.course.slug slug=assignments.module.slug %}">{{assignments.module.name}}</a></li> /
      <li><a href="{% url 'curriculum:question_detail' course=assignments.course.slug module=assignments.module.slug slug=assignments.slug %}">{{assignments.name}}</a></li> /
      <li class="breadcrumb-item active" aria-current="page">Update</li>
    </ol>
  </nav>
  <!--Within the corresponding html template,
 these forms were then simply called upon. 
 “enctype="multipart/form-data” was added to 
 the form to ensure files with image/file fields 
 are encoded when submitted to the server. -->
<!--render the same form as in assignment create however when the assignment detail refers to the content previous posted within the form so the form opens with all content inside ready to be changed -->
<form method="post" enctype="multipart/form-data" style= "align-content: center;">
   <!--which was generated on the 
        server side so when the page is rendered 
        malicious attacks are prevented. -->
  {% csrf_token %}
  {{form|crispy}} <!--bootstrap-->
  <div class="row d-flex justify-content-center mb-3 mt-3">
        <div class="col-md-4 mb-3 mr-3">
                <input type="submit" value="Update" class="btn btn-warning btn-block">
        </div>
    <div class="col-md-4 mb-3 mr-3">
      <!--if cancel button is pressed the url is return back to the assingment detail page with no updated made to the form-->
        <a href="{% url 'curriculum:assignment_detail' course=assignments.course.slug module=assignments.module.slug slug=assignments.slug %}" class="btn btn-danger btn-block">Cancel Update</a>
</div>
 
{% endblock %}